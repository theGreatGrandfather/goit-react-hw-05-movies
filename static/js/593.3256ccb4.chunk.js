"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[593],{6242:function(n,e,t){t.d(e,{Df:function(){return s},IQ:function(){return f},YJ:function(){return p},hu:function(){return d},zi:function(){return l}});var r=t(5861),a=t(4687),u=t.n(a),c=t(4569),o=t.n(c),i="3686f3666c5a0ed623dc3fa0f4b660b5";o().defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var n=(0,r.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("trending/all/day?language=en-US&api_key=".concat(i));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(u().mark((function n(e,t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(t,"&api_key=").concat(i));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("movie/".concat(e,"?language=en-US&api_key=").concat(i));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("movie/".concat(e,"/credits?language=en-US&api_key=").concat(i));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("movie/".concat(e,"/reviews?language=en-US&api_key=").concat(i));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},8593:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,a,u,c=t(5861),o=t(9439),i=t(4687),s=t.n(i),l=t(2791),p=t(1087),f=t(7689),d=t(6242),v=t(168),h=t(41),g=h.Z.form(r||(r=(0,v.Z)(["\ndisplay: flex;\ngap: 4px;\nmargin-top: 20px;\nmargin-bottom: 20px;\n\n"]))),x=h.Z.input(a||(a=(0,v.Z)(["\ndisplay: flex;\npadding: 12px;\nborder: 2px solid lightblue;\nborder-radius: 8px;\nwidth: 300px;\n\n"]))),b=h.Z.button(u||(u=(0,v.Z)(["\ndisplay: flex;\nalign-items: center;\njustify-content: center;\npadding: 12px;\nborder: 2px solid lightblue;\nborder-radius: 8px;\nbackground-color: transparent;\ntransition: all 0.3s ease;\ncursor: pointer;\n&:hover,\n&:focus{\n    background-color: #3f51b5;\n    border-color: #3f51b5;\n}\n"]))),m=t(184);var y=function(n){var e=n.setQuery,t=n.onInputChange;return(0,m.jsxs)(g,{onSubmit:e,children:[(0,m.jsx)(x,{name:"name",onChange:t,type:"text"}),(0,m.jsx)(b,{type:"submit",children:"search"})]})};var k=function(n){var e,t,r=(0,p.lr)(),a=(0,o.Z)(r,2),u=a[0],i=a[1],v=null!==(e=u.get("page"))&&void 0!==e?e:"",h=null!==(t=u.get("query"))&&void 0!==t?t:"",g=(0,l.useState)(""),x=(0,o.Z)(g,2),b=x[0],k=x[1],w=(0,l.useState)(null),Z=(0,o.Z)(w,2),j=Z[0],_=Z[1],S=(0,l.useState)([]),C=(0,o.Z)(S,2),U=C[0],q=C[1],D=(0,l.useState)(null),I=(0,o.Z)(D,2),Q=I[0],z=I[1],L=(0,f.TH)();(0,l.useEffect)((function(){var n=function(){var n=(0,c.Z)(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,d.zi)(h,v);case 5:return e=n.sent,console.log("searchResult :>> ",e),q(e.results),z(e.total_pages),n.abrupt("return");case 12:n.prev=12,n.t0=n.catch(2),console.log("error :>> ",n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){q([]),k(null),z(null)}}),[v,h]);var R=function(n){switch(n){case"prev":_((function(n){return Math.max(n-1,1)})),i({query:h,page:j-1});break;case"next":_((function(n){return n+1})),i({query:h,page:j+1})}};return console.log("location :>> ",L),(0,m.jsxs)("div",{children:[(0,m.jsx)(y,{setQuery:function(n){n.preventDefault(),""!==b.trim()&&(i({query:b,page:1}),_(1),n.target[0].value="")},onInputChange:function(n){n.preventDefault(),k(n.currentTarget.value.toLowerCase())}}),(0,m.jsx)("ul",{children:U.length?U.map((function(n){return(0,m.jsx)("li",{children:(0,m.jsx)(p.rU,{to:"".concat(n.id),state:{from:L},children:n.title||n.original_name})},n.id)})):(0,m.jsxs)("p",{children:["No movies by request ","'".concat(h,"'")," "]})}),Q&&(0,m.jsxs)("ul",{children:["1"!==v&&(0,m.jsx)("li",{children:(0,m.jsx)("button",{type:"button",onClick:function(){return R("prev")},children:"prev"})}),Q>v&&Q!==v&&(0,m.jsx)("li",{children:(0,m.jsx)("button",{type:"button",onClick:function(){return R("next")},children:"next"})})]})]})}}}]);
//# sourceMappingURL=593.3256ccb4.chunk.js.map